2025-03-11 05:44:48.350 | INFO     | app.main:lifespan:21 - Database successfully started!
2025-03-11 05:47:50.893 | ERROR    | app.main:lifespan:23 - Shutting down...
2025-03-11 05:47:53.840 | INFO     | app.main:lifespan:21 - Database successfully started!
2025-03-11 05:48:41.761 | ERROR    | app.main:lifespan:23 - Shutting down...
2025-03-11 05:48:43.929 | INFO     | app.main:lifespan:21 - Database successfully started!
2025-03-11 05:49:30.140 | ERROR    | app.main:lifespan:23 - Shutting down...
2025-03-11 05:53:58.773 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:14:09.502 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:15:03.457 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:15:55.038 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:18:17.203 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:19:53.360 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:20:44.371 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:22:21.338 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:23:13.548 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:24:03.387 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:24:54.193 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:25:40.400 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:26:28.907 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:28:11.237 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: Service not found, Path: http://localhost:8000/api/v1/services/10
2025-03-11 06:29:32.827 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:31:05.268 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:31:55.238 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:33:25.762 | ERROR    | app.main:lifespan:22 - Shutting down...
2025-03-11 06:41:03.310 | ERROR    | app.core.dependencies:validate_roles:33 - User: 3 with role employee does not have permission to perform this action. Path: http://localhost:8000/api/v1/services/
2025-03-11 06:41:03.311 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: You do not have permission to perform this action, Path: http://localhost:8000/api/v1/services/
2025-03-11 06:42:13.217 | ERROR    | app.core.dependencies:validate_roles:33 - User id: '3' with role 'employee' does not have permission to perform this action. Path: http://localhost:8000/api/v1/services/
2025-03-11 06:42:13.217 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: You do not have permission to perform this action, Path: http://localhost:8000/api/v1/services/
2025-03-11 06:43:00.289 | ERROR    | app.core.dependencies:validate_roles:33 - User with id: 3 and role 'employee' does not have permission to perform this action. Path: http://localhost:8000/api/v1/services/
2025-03-11 06:43:00.290 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: You do not have permission to perform this action, Path: http://localhost:8000/api/v1/services/
2025-03-11 06:46:09.641 | ERROR    | app.core.dependencies:validate_roles:35 - User with id: 3 and role 'employee' does not have permission to perform this action. Path: http://localhost:8000/api/v1/services/
2025-03-11 06:46:09.642 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: You do not have permission to perform this action, Path: http://localhost:8000/api/v1/services/
2025-03-11 06:47:33.863 | ERROR    | app.core.dependencies:validate_roles:35 - User with id: 3 and role: 'employee' does not have permission to perform this action. Path: http://localhost:8000/api/v1/services/
2025-03-11 06:47:33.863 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: You do not have permission to perform this action, Path: http://localhost:8000/api/v1/services/
2025-03-11 06:53:54.608 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: Service not found, Path: http://localhost:8000/api/v1/services/10
2025-03-11 06:56:28.202 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 07:14:15.637 | ERROR    | app.core.exceptions:global_exception_handler:7 - Uncaught Error: 'RequestValidationError' object has no attribute 'detail', Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:14:56.928 | ERROR    | app.core.exceptions:global_exception_handler:7 - Uncaught Error: 'RequestValidationError' object has no attribute 'detail', Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:16:34.684 | ERROR    | app.core.exceptions:global_exception_handler:7 - Uncaught Error: 'RequestValidationError' object has no attribute 'detail', Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:17:20.601 | WARNING  | app.core.exceptions:http_exception_handler:16 - HTTP Exception: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}], Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:17:20.602 | ERROR    | app.core.exceptions:global_exception_handler:7 - Uncaught Error: 'RequestValidationError' object has no attribute 'status_code', Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:22:23.685 | WARNING  | app.core.exceptions:http_exception_handler:17 - HTTP Exception: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}], Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:22:23.686 | ERROR    | app.core.exceptions:global_exception_handler:8 - Uncaught Error: Object of type RequestValidationError is not JSON serializable, Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:30:30.832 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 07:30:37.609 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 07:30:51.503 | ERROR    | app.core.exceptions:validation_exception_handler:26 - Validation Error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}] | Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:31:51.514 | ERROR    | app.core.exceptions:validation_exception_handler:26 - Validation Error: [{'type': 'missing', 'loc': ('body',), 'msg': 'Field required', 'input': None}] | Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:32:08.824 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:37:24.965 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError("'coroutine' object is not iterable"), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 07:45:53.386 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 08:16:13.271 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("'filter_id' is an invalid keyword argument for Appointment"), Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:41:13.691 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 08:41:20.634 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("HTTPException.__init__() missing 1 required positional argument: 'status_code'"), Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:42:14.498 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:44:01.632 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:44:08.381 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - User: 58 has already an appointment starting at: 2025-03-13 14:00:00, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:46:37.720 | ERROR    | app.service.booking.appointment:create_new_appointment:39 - Business/Employee with id: 58 already has an appointment starting at: 2025-03-13 14:00:00
2025-03-11 08:46:37.721 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:48:19.416 | ERROR    | app.service.booking.appointment:create_new_appointment:38 - Business/Employee with id: 58 already has an appointment starting at: 2025-03-13 14:00:00
2025-03-11 08:48:19.417 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:49:48.980 | ERROR    | app.service.booking.appointment:create_new_appointment:38 - Business/Employee with id: 58 already has an appointment starting at: 2025-03-13 15:00:00
2025-03-11 08:49:48.982 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:52:08.250 | ERROR    | app.service.booking.appointment:create_new_appointment:38 - Business/Employee with id: 35 already has an appointment starting at: 2025-03-24 12:00:00
2025-03-11 08:52:08.251 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 08:59:20.658 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 404 - This user is not registered yet, Path: http://localhost:8000/api/v1/auth/login
2025-03-11 09:05:35.729 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: DBAPIError("(sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: <RoleEnum.CLIENT: 'client'> ('RoleEnum' object cannot be interpreted as an integer)"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:06:01.872 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: DBAPIError("(sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: <RoleEnum.CLIENT: 'client'> ('RoleEnum' object cannot be interpreted as an integer)"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:19:10.790 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 09:19:17.840 | ERROR    | app.service.booking.appointment:create_new_appointment:43 - Business/Employee with id: 35 already has an appointment starting at: 2025-03-24 13:00:00
2025-03-11 09:19:17.841 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 403 - This slot is already booked, Path: http://localhost:8000/api/v1/appointments/
2025-03-11 09:19:23.432 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:20:03.965 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: AttributeError('id'), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:20:50.387 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:21:42.906 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: AttributeError("'Appointment' object has no attribute 'all'"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:22:31.631 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError([TypeError('cannot convert dictionary update sequence element #0 to a sequence'), TypeError('vars() argument must have __dict__ attribute')]), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:27:53.723 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("'<' not supported between instances of 'dict' and 'dict'"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:31:06.431 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError('getitem expected 2 arguments, got 1'), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 09:38:32.009 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 09:38:32.883 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 11:27:11.781 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 12:00:52.073 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: AttributeError("'dict' object has no attribute 'available_appointments'"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 13:58:36.497 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 401 - Not authenticated, Path: http://localhost:8000/api/v1/appointments/timeslots?day=2025-03-14&user_id=34
2025-03-11 14:20:12.010 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("'bool' object is not subscriptable"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 14:20:41.283 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("'bool' object is not subscriptable"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 14:47:01.337 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 15:09:07.941 | WARNING  | app.core.exceptions:http_exception_handler:18 - HTTP Exception: 404 - Appointment not found, Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:10:58.337 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: UnmappedInstanceError("Class 'builtins.dict' is not mapped"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:16:42.838 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: KeyError('appointments.id'), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:18:14.729 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: KeyError('appointments.id'), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:24:58.173 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 15:27:16.272 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: AttributeError("'Appointment' object has no attribute 'model_dump'"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:38:46.405 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: AttributeError("'Appointment' object has no attribute 'model_dump'"), Path: http://localhost:8000/api/v1/appointments/appointment-scheduler
2025-03-11 15:40:39.862 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 17:53:12.065 | ERROR    | app.core.data_utils:local_to_utc:21 - Error converting time '09:00' with timezone 'Europe/Bucharest'. Error: time data '2025-03-11 09:00' does not match format '%Y-%m-%d %H:%M:%S'
2025-03-11 17:53:12.067 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError('Invalid date/time format. Expected YYYY-MM-DD for dates, HH:MM for times.'), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 17:56:43.023 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("time data '2025-09-04' does not match format '%Y-%m-%d %H:%M:%S'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:38:48.932 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 18:38:55.842 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("time data '2025-09-04' does not match format '%Y-%m-%d %H:%M:%S'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:41:16.922 | ERROR    | app.core.data_utils:local_to_utc:21 - Error converting time '09:00' with timezone 'Europe/Bucharest'. Error: unconverted data remains:  09:00
2025-03-11 18:41:16.924 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("Error converting time '09:00' with timezone 'Europe/Bucharest'. Error: unconverted data remains:  09:00"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:42:04.157 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("time data '2025-09-04' does not match format '%Y-%m-%d %H:%S'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:42:56.433 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("time data '2025-09-04' does not match format '%Y-%m-%d %H:%M'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:49:33.318 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: TypeError("local_string_to_utc() missing 2 required positional arguments: 'local_date' and 'local_time'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 18:55:39.575 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 18:55:46.431 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("Error converting time '19:00' with timezone 'Europe/Bucharest'. Error: object datetime.datetime can't be used in 'await' expression"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-09-04&end_date=2025-09-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 19:07:24.638 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: ValueError("Error converting date: '2025-03-04' and time: '09:00' with timezone 'Europe/Bucharest'. Error: time data '09:00' does not match format '%H:%M:%S'"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-03-04&end_date=2025-03-05&start_time=09:00&end_time=18:00&limit=10&page=1
2025-03-11 19:11:07.847 | ERROR    | app.core.security:decode_token:36 - Token could not be decoded. Error: Signature has expired.
2025-03-11 19:13:01.809 | ERROR    | app.core.exceptions:global_exception_handler:9 - Uncaught Error: DBAPIError("(sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: datetime.time(7, 0) ('NoneType' object has no attribute 'utcoffset')"), Path: http://localhost:8000/api/v1/businesses/nearby?lon=25.987371&lat=44.443440&filter_id=14&start_date=2025-03-04&end_date=2025-03-05&start_time=09:00:00&end_time=18:00:00&limit=10&page=1
